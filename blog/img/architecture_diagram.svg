<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="636"
   height="495"
   viewBox="0 0 636 495"
   version="1.1"
   id="svg15"
   sodipodi:docname="architecture_diagram.svg"
   inkscape:version="1.4 (e7c3feb100, 2024-10-09)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview15"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.0311974"
     inkscape:cx="418.4456"
     inkscape:cy="320.98608"
     inkscape:window-width="1920"
     inkscape:window-height="1056"
     inkscape:window-x="0"
     inkscape:window-y="0"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg15" />
  <defs
     id="defs1">
    <inkscape:path-effect
       effect="fillet_chamfer"
       id="path-effect17"
       is_visible="true"
       lpeversion="1"
       nodesatellites_param="F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,39.028014,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1 @ F,0,0,1,0,0,0,1"
       radius="0"
       unit="px"
       method="auto"
       mode="F"
       chamfer_steps="1"
       flexible="false"
       use_knot_distance="true"
       apply_no_radius="true"
       apply_with_radius="true"
       only_selected="false"
       hide_knots="false" />
    <style
       id="style1">
      .box {
        stroke: #333;
        stroke-width: 2;
        fill: #fff;
        rx: 8;
        ry: 8;
      }
      .cloud {
        stroke: #333;
        stroke-width: 2;
        fill: #fff;
      }
      .text-label {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 16px;
        text-anchor: middle;
      }
      .small-text {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 12px;
        text-anchor: middle;
        fill: #555;
      }
      .arrow-line {
        stroke: #333;
        stroke-width: 1.5;
        marker-end: url(#arrowhead);
      }
      .circle-step {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 12px;
        text-anchor: middle;
        fill: white;
      }
      .circle-bg {
        fill: #333;
      }
    </style>
    <marker
       id="arrowhead"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#333333"
         id="polygon1" />
    </marker>
    <marker
       id="arrowhead-6"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="0,7 0,0 10,3.5 "
         fill="#333333"
         id="polygon1-7" />
    </marker>
    <marker
       id="arrowhead-9"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="0,7 0,0 10,3.5 "
         fill="#333333"
         id="polygon1-1" />
    </marker>
    <marker
       id="arrowhead-62"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="0,7 0,0 10,3.5 "
         fill="#333333"
         id="polygon1-6" />
    </marker>
    <marker
       id="arrowhead-9-7"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="0,0 10,3.5 0,7 "
         fill="#333333"
         id="polygon1-1-9" />
    </marker>
    <marker
       id="arrowhead-9-7-2"
       markerWidth="10"
       markerHeight="7"
       refX="0"
       refY="3.5"
       orient="auto">
      <polygon
         points="10,3.5 0,7 0,0 "
         fill="#333333"
         id="polygon1-1-9-3" />
    </marker>
  </defs>
  <!-- Components -->
  <!-- Vespa RAG UI -->
  <rect
     x="160"
     y="18"
     width="300"
     height="80"
     class="box"
     style="fill:#e0f7fa;stroke:#00796b"
     id="rect1" />
  <text
     x="310"
     y="48"
     class="text-label"
     id="text1">Vespa RAG UI</text>
  <rect
     x="210"
     y="63"
     width="200"
     height="25"
     rx="5"
     ry="5"
     style="fill:#ffffff;stroke:#cccccc"
     id="rect2" />
  <path
     d="m 220,69 5,6.5 -5,6.5"
     fill="none"
     stroke="#999999"
     stroke-width="2"
     id="path2" />
  <!-- NyRAG (Python) -->
  <rect
     x="214"
     y="186"
     width="200"
     height="60"
     class="box"
     style="fill:#fffde7;stroke:#fbc02d"
     id="rect3" />
  <text
     x="306"
     y="221"
     class="text-label"
     id="text3">Python</text>
  <!-- Vespa Cloud -->
  <g
     id="g6"
     transform="matrix(1.3903373,0,0,1.2802195,127.9144,-83.94771)">
    <path
       class="cloud"
       d="m 41.61944,385.44676 c -20.01992,-24.41311 5.43061,-45.04726 32.00466,-33.27867 9.65241,-28.04401 87.57038,-23.24939 96.72909,-0.87175 26.57406,-12.64034 61.40473,14.9678 41.3848,39.38091 19.52625,27.60812 -16.29181,50.42164 -39.90372,32.98669 -12.7507,21.5059 -90.66866,27.17225 -100.81476,0 -24.59929,10.89684 -58.44257,-16.27541 -29.40007,-38.21718 z"
       style="fill:#e3f2fd;stroke:#1976d2"
       id="path3"
       sodipodi:nodetypes="ccccccc" />
    <text
       x="122.93558"
       y="365.94437"
       class="text-label"
       id="text4">Vespa Cloud</text>
    <text
       x="127.78538"
       y="391.97089"
       class="small-text"
       id="text5">Vespa RAG Application</text>
    <text
       x="131.0323"
       y="405.36401"
       class="small-text"
       id="text6">(Schema, Ranking Profiles)</text>
  </g>
  <!-- OpenAI -->
  <rect
     x="526.39313"
     y="188.07126"
     width="94.487022"
     height="60.674271"
     class="box"
     style="fill:#e8f5e9;stroke:#388e3c"
     id="rect6" />
  <text
     x="576.18323"
     y="223.40843"
     class="text-label"
     id="text7">OpenAI</text>
  <!-- Data Sources -->
  <text
     x="52.571426"
     y="195.60002"
     class="text-label"
     id="text8"><tspan
       sodipodi:role="line"
       id="tspan15"
       x="52.571426"
       y="195.60002">Docs,</tspan><tspan
       sodipodi:role="line"
       id="tspan16"
       x="52.571426"
       y="215.60002">PDF,</tspan><tspan
       sodipodi:role="line"
       x="52.571426"
       y="235.60002"
       id="tspan17">Website</tspan></text>
  <text
     x="142.57143"
     y="201.28571"
     class="small-text"
     id="text9">Python Pipeline</text>
  <!-- Arrows and Steps -->
  <!-- Ingestion -->
  <!-- Step 1: UI -> Python -->
  <path
     class="arrow-line"
     d="m 274,100 v 71.22146"
     id="path10" />
  <path
     class="arrow-line"
     d="m 104.50037,215.49753 h 71.22146"
     id="path10-2"
     style="stroke:#333333;stroke-width:1.29736;marker-end:url(#arrowhead-9)" />
  <path
     class="arrow-line"
     d="m 426.52831,195.17282 h 81.45304"
     id="path10-2-2"
     style="stroke:#333333;stroke-width:1.38742;marker-end:url(#arrowhead-9-7)" />
  <path
     class="arrow-line"
     d="M 523.31526,229.41811 H 437.25759"
     id="path10-2-2-7"
     style="stroke:#333333;stroke-width:1.42609;marker-end:url(#arrowhead-9-7-2)" />
  <path
     class="arrow-line"
     d="m 269.05505,251.34286 v 71.22146"
     id="path10-5"
     style="stroke:#333333;stroke-width:1.29736;marker-end:url(#arrowhead-6)" />
  <circle
     cx="256"
     cy="137"
     r="10"
     class="circle-bg"
     id="circle10" />
  <text
     x="256"
     y="141"
     class="circle-step"
     id="text10">1</text>
  <!-- Step 2: Python -> Vespa -->
  <circle
     cx="250"
     cy="295"
     r="10"
     class="circle-bg"
     id="circle11" />
  <text
     x="250"
     y="299"
     class="circle-step"
     id="text11">2</text>
  <!-- Step 3: Vespa -> Python -->
  <circle
     cx="250"
     cy="295"
     r="10"
     class="circle-bg"
     id="circle12" />
  <text
     x="250"
     y="299"
     class="circle-step"
     id="text12">2</text>
  <circle
     cx="355"
     cy="300"
     r="10"
     class="circle-bg"
     id="circle11-0"
     style="fill:#333333" />
  <text
     x="355"
     y="304"
     class="circle-step"
     id="text11-9"
     style="font-size:12px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;text-anchor:middle;fill:#ffffff">2</text>
  <circle
     cx="355"
     cy="300"
     r="10"
     class="circle-bg"
     id="circle12-3"
     style="fill:#333333" />
  <text
     x="355"
     y="304"
     class="circle-step"
     id="text12-6"
     style="font-size:12px;font-family:'Helvetica Neue', Helvetica, Arial, sans-serif;text-anchor:middle;fill:#ffffff">3</text>
  <!-- Step 4: Python -> OpenAI -->
  <circle
     cx="477.81763"
     cy="172.61633"
     class="circle-bg"
     id="circle13"
     r="10" />
  <text
     x="477.81763"
     y="176.61633"
     class="circle-step"
     id="text13">4</text>
  <!-- Step 5: OpenAI -> Python -->
  <circle
     cx="471.42108"
     cy="245.83218"
     class="circle-bg"
     id="circle14"
     r="10" />
  <text
     x="471.42108"
     y="249.83218"
     class="circle-step"
     id="text14">5</text>
  <!-- Step 6: Python -> UI -->
  <path
     class="arrow-line"
     d="M 340,182 V 113.08332"
     id="path15" />
  <path
     class="arrow-line"
     d="M 338.5941,335.04268 V 266.126"
     id="path15-1"
     style="stroke:#333333;stroke-width:1.3126;marker-end:url(#arrowhead-62)" />
  <circle
     cx="356"
     cy="143"
     r="10"
     class="circle-bg"
     id="circle15" />
  <text
     x="356"
     y="147"
     class="circle-step"
     id="text15">6</text>
</svg>
